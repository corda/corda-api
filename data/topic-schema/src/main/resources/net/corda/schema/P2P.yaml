topics:
  P2PInTopic:
    name: p2p.in
    consumers:
      - flow
      - membership
    producers:
      - link-manager
    config:
  P2POutTopic:
    name: p2p.out
    consumers:
      - link-manager
    producers:
      - flow
      - membership
    config:
  P2POutMarkersTopic:
    name: p2p.out.markers
    consumers:
      - link-manager
    producers:
      - link-manager
    config:
  P2POutMarkersStateTopic:
    name: p2p.out.markers.state
    consumers:
      - link-manager
    producers:
      - link-manager
    config:
      cleanup.policy: compact
      segment.ms: 600000
      delete.retention.ms: 300000
      min.compaction.lag.ms: 60000
      max.compaction.lag.ms: 604800000
      min.cleanable.dirty.ratio: 0.5
  P2POutMarkersDlqTopic:
    name: p2p.out.markers.dlq
    consumers:
      - link-manager
    producers:
      - link-manager
    config:
  P2PHostedIdentitiesTopic:
    name: p2p.hosted.identities
    consumers:
      - link-manager
    producers:
      - rpc # Dynamic Network registration
      - membership # Static Network registration
    config:
      cleanup.policy: compact
      segment.ms: 600000
      delete.retention.ms: 300000
      min.compaction.lag.ms: 60000
      max.compaction.lag.ms: 604800000
      min.cleanable.dirty.ratio: 0.5
  LinkInTopic:
    name: link.in
    consumers:
      - link-manager
    producers:
      - gateway
    config:
  LinkOutTopic:
    name: link.out
    consumers:
      - gateway
    producers:
      - link-manager
    config:
  GatewayTLSCertsTopic:
    name: gateway.tls.certs
    consumers:
      - gateway
    producers:
      - link-manager
    config:
      cleanup.policy: compact
      segment.ms: 600000
      delete.retention.ms: 300000
      min.compaction.lag.ms: 60000
      max.compaction.lag.ms: 604800000
      min.cleanable.dirty.ratio: 0.5
  GatewayTLSTruststoresTopic:
    name: gateway.tls.truststores
    consumers:
      - gateway
    producers:
      - link-manager
    config:
      cleanup.policy: compact
      segment.ms: 600000
      delete.retention.ms: 300000
      min.compaction.lag.ms: 60000
      max.compaction.lag.ms: 604800000
      min.cleanable.dirty.ratio: 0.5
  GatewayRevocationRequestTopic:
    name: gateway.revocation.request
    consumers:
      - gateway
    producers:
      - link-manager
    config:
  GatewayRevocationRequestResponseTopic:
    name: gateway.revocation.request.resp
    consumers:
      - link-manager
    producers:
      - gateway
    config:
  SessionOutPartitionsTopic:
    name: session.out.partitions
    consumers:
      - gateway
    producers:
      - link-manager
    config:
      cleanup.policy: compact
      segment.ms: 600000
      delete.retention.ms: 300000
      min.compaction.lag.ms: 60000
      max.compaction.lag.ms: 604800000
      min.cleanable.dirty.ratio: 0.5
  # Below are topics for stub components that will be removed after full integration with MGM/membership/crypto components
  P2PMembersInfoTopic:
    name: p2p.members.info
    consumers:
    producers:
    config:
      cleanup.policy: compact
      segment.ms: 600000
      delete.retention.ms: 300000
      min.compaction.lag.ms: 60000
      max.compaction.lag.ms: 604800000
      min.cleanable.dirty.ratio: 0.5
  P2PGroupPoliciesTopic:
    name: p2p.group.policies
    consumers:
    producers:
    config:
      cleanup.policy: compact
      segment.ms: 600000
      delete.retention.ms: 300000
      min.compaction.lag.ms: 60000
      max.compaction.lag.ms: 604800000
      min.cleanable.dirty.ratio: 0.5
  P2PCryptoKeyTopic:
    name: p2p.crypto.keys
    consumers:
    producers:
    config:
      cleanup.policy: compact
      segment.ms: 600000
      delete.retention.ms: 300000
      min.compaction.lag.ms: 60000
      max.compaction.lag.ms: 604800000
      min.cleanable.dirty.ratio: 0.5
